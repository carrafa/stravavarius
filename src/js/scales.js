'use strict';

const music = {
  notes: [55,58.27,61.735,65.406,69.296,73.416,77.782,82.407,87.307,92.499,97.999,103.826,110, 116.541,123.471,130.813,138.591,146.832,155.563,164.814,174.614,184.997,195.998,207.652,220, 233.082,246.942,261.626,277.183,293.665,311.127,329.628,349.228,369.994,391.995,415.305,440, 466.164,493.883,523.251,554.365,587.33,622.254,659.255,698.456,739.989,783.991,830.609,880, 932.328,987.767,1046.502,1108.731,1174.659,1244.508,1318.51,1396.913,1479.978,1567.982,1661.219,1760, 1864.655,1975.533,2093.005,2217.461,2349.318,2489.016,2637.02,2793.826,2959.955,3135.963,3322.438,3520],
  keys: {
    A: [55.000,110.000,220.000,440.000,880.000,1760.000],
    Ab: [58.270,116.541,233.082,466.164,932.328,1864.655],
    B: [61.735,123.471,246.942,493.883,987.767,1975.533],
    C: [65.406,130.813,261.626,523.251,1046.502,2093.005],
    Db: [69.296,138.591,277.183,554.365,1108.731,2217.461],
    D: [73.416,146.832,293.665,587.330,1174.659,2349.318],
    Eb: [77.782,155.563,311.127,622.254,1244.508,2489.016],
    E: [82.407,164.814,329.628,659.255,1318.510,2637.020],
    F: [87.307,174.614,349.228,698.456,1396.913,2793.826],
    Gb: [92.499,184.997,369.994,739.989,1479.978,2959.955],
    G: [97.999,195.998,391.995,783.991,1567.982,3135.963],
    Ab: [103.826,207.652,415.305,830.609,1661.219,3322.438]
  },
  scales: {
    chromatic: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
    major: [0, 2, 4, 5, 7, 9, 11],
    minor: [0, 2, 3, 5, 7, 8, 11],
    phrygian: [0, 1, 3, 5, 7, 8, 10]
  }
};

module.exports = {
  getScale: function(scale, key, octave){
    let index = music.notes.indexOf(music.keys[key][octave]);
    let scaleNotes = [];
    for(let i = 0; i < music.scales[scale].length; i ++ ) {
      scaleNotes.push(music.notes[index + music.scales[scale][i]]);
    }
    return scaleNotes;
  }
};
